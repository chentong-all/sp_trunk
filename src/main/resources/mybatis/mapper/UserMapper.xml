<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ayue.sp.db.dao.UserMapper">
  <resultMap id="BaseResultMap" type="com.ayue.sp.db.po.User">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="openId" jdbcType="VARCHAR" property="openid" />
    <result column="professional" jdbcType="VARCHAR" property="professional" />
    <result column="level" jdbcType="INTEGER" property="level" />
    <result column="proficient" jdbcType="VARCHAR" property="proficient" />
    <result column="gender" jdbcType="TINYINT" property="gender" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="avatar" jdbcType="VARCHAR" property="avatar" />
    <result column="notice" jdbcType="VARCHAR" property="notice" />
    <result column="profile" jdbcType="VARCHAR" property="profile" />
    <result column="labels" jdbcType="VARCHAR" property="labels" />
    <result column="history_rank" jdbcType="VARCHAR" property="historyRank" />
    <result column="history_ticket" jdbcType="VARCHAR" property="historyTicket" />
    <result column="day_ticket" jdbcType="INTEGER" property="dayTicket" />
    <result column="week_ticket" jdbcType="INTEGER" property="weekTicket" />
    <result column="all_ticket" jdbcType="INTEGER" property="allTicket" />
    <result column="ticket" jdbcType="INTEGER" property="ticket" />
    <result column="obtain_ticket" jdbcType="INTEGER" property="obtainTicket" />
    <result column="obtain_ticket_all" jdbcType="INTEGER" property="obtainTicketAll" />
    <result column="money" jdbcType="INTEGER" property="money" />
    <result column="pay_count" jdbcType="INTEGER" property="payCount" />
    <result column="attestation_url" jdbcType="VARCHAR" property="attestationUrl" />
    <result column="like_count" jdbcType="INTEGER" property="likeCount" />
    <result column="forward_count" jdbcType="INTEGER" property="forwardCount" />
    <result column="is_system" jdbcType="BIT" property="isSystem" />
    <result column="city_address" jdbcType="VARCHAR" property="cityAddress" />
    <result column="day_vote_count" jdbcType="INTEGER" property="dayVoteCount" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="status" jdbcType="TINYINT" property="status" />
    <result column="question_count" jdbcType="INTEGER" property="questionCount" />
    <result column="answer_count" jdbcType="INTEGER" property="answerCount" />
    <result column="comment_count" jdbcType="INTEGER" property="commentCount" />
    <result column="reply_count" jdbcType="INTEGER" property="replyCount" />
    <result column="password" jdbcType="VARCHAR" property="password" />
    <result column="city" jdbcType="VARCHAR" property="city" />
    <result column="identity" jdbcType="INTEGER" property="identity" />
    <result column="unit" jdbcType="VARCHAR" property="unit" />
    <result column="energy_bean" jdbcType="INTEGER" property="energyBean" />
    <result column="teacher" jdbcType="INTEGER" property="teacher" />
    <result column="rank_energy_bean" jdbcType="INTEGER" property="rankEnergyBean" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    id, openId, gender, professional, level, proficient, name, avatar, notice, profile, labels, history_rank,
    history_ticket, day_ticket, week_ticket, all_ticket, ticket, obtain_ticket, obtain_ticket_all, money,
    pay_count, attestation_url, like_count, forward_count, is_system, city_address, day_vote_count, create_time,
    status, question_count, answer_count, comment_count, reply_count, password, city, identity, unit,
    energy_bean, teacher, rank_energy_bean
  </sql>
  <select id="selectByExample" parameterType="com.ayue.sp.db.po.UserExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from user
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    select  
    <include refid="Base_Column_List" />
    from user
    where id = #{id,jdbcType=INTEGER}
  </select>
    <select id="selectByEnergyBean" resultType="java.lang.Integer" parameterType="java.lang.Integer">
        SELECT u.rownum FROM
        (SELECT id,(@rownum:=@rownum+1) AS rownum FROM
        user u,(SELECT @rownum:=0)r ORDER BY energy_bean DESC)u WHERE id=#{id,jdbcType=INTEGER}
    </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    delete from user
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByExample" parameterType="com.ayue.sp.db.po.UserExample">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    delete from user
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.ayue.sp.db.po.User">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    insert into user (id, openId,professional,proficient, gender,
      name, avatar, notice, 
      profile, labels, history_rank, 
      history_ticket, day_ticket, week_ticket, 
      all_ticket, ticket, money,
      pay_count, attestation_url, like_count, 
      forward_count, is_system, city_address, 
      day_vote_count, create_time, status, 
      question_count, answer_count, comment_count, 
      reply_count)
    values (#{id,jdbcType=INTEGER}, #{openid,jdbcType=VARCHAR},#{professional,jdbcType=TINYINT},#{proficient,jdbcType=TINYINT}, #{gender,jdbcType=TINYINT},
      #{name,jdbcType=VARCHAR}, #{avatar,jdbcType=VARCHAR}, #{notice,jdbcType=VARCHAR}, 
      #{profile,jdbcType=VARCHAR}, #{labels,jdbcType=VARCHAR}, #{historyRank,jdbcType=VARCHAR}, 
      #{historyTicket,jdbcType=VARCHAR}, #{dayTicket,jdbcType=INTEGER}, #{weekTicket,jdbcType=INTEGER}, 
      #{allTicket,jdbcType=INTEGER}, #{ticket,jdbcType=INTEGER}, #{money,jdbcType=INTEGER}, 
      #{payCount,jdbcType=INTEGER}, #{attestationUrl,jdbcType=VARCHAR}, #{likeCount,jdbcType=INTEGER}, 
      #{forwardCount,jdbcType=INTEGER}, #{isSystem,jdbcType=BIT}, #{cityAddress,jdbcType=VARCHAR}, 
      #{dayVoteCount,jdbcType=INTEGER}, now(), #{status,jdbcType=TINYINT},
      #{questionCount,jdbcType=INTEGER}, #{answerCount,jdbcType=INTEGER}, #{commentCount,jdbcType=INTEGER}, 
      #{replyCount,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.ayue.sp.db.po.User">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    insert into user
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="openid != null">
        openId,
      </if>
      <if test="professional != null">
        professional,
      </if>
      <if test="proficient != null">
        proficient,
      </if>
      <if test="gender != null">
        gender,
      </if>
      <if test="name != null">
        name,
      </if>
      <if test="avatar != null">
        avatar,
      </if>
      <if test="notice != null">
        notice,
      </if>
      <if test="profile != null">
        profile,
      </if>
      <if test="labels != null">
        labels,
      </if>
      <if test="historyRank != null">
        history_rank,
      </if>
      <if test="historyTicket != null">
        history_ticket,
      </if>
      <if test="dayTicket != null">
        day_ticket,
      </if>
      <if test="weekTicket != null">
        week_ticket,
      </if>
      <if test="allTicket != null">
        all_ticket,
      </if>
      <if test="ticket != null">
        ticket,
      </if>
      <if test="money != null">
        money,
      </if>
      <if test="payCount != null">
        pay_count,
      </if>
      <if test="attestationUrl != null">
        attestation_url,
      </if>
      <if test="likeCount != null">
        like_count,
      </if>
      <if test="forwardCount != null">
        forward_count,
      </if>
      <if test="isSystem != null">
        is_system,
      </if>
      <if test="cityAddress != null">
        city_address,
      </if>
      <if test="dayVoteCount != null">
        day_vote_count,
      </if>
        create_time,
      <if test="status != null">
        status,
      </if>
      <if test="questionCount != null">
        question_count,
      </if>
      <if test="answerCount != null">
        answer_count,
      </if>
      <if test="commentCount != null">
        comment_count,
      </if>
      <if test="replyCount != null">
        reply_count,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="openid != null">
        #{openid,jdbcType=VARCHAR},
      </if>
      <if test="professional != null">
        #{professional,jdbcType=VARCHAR},
      </if>
      <if test="proficient != null">
        #{proficient,jdbcType=VARCHAR},
      </if>
      <if test="gender != null">
        #{gender,jdbcType=TINYINT},
      </if>
      <if test="name != null">
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="avatar != null">
        #{avatar,jdbcType=VARCHAR},
      </if>
      <if test="notice != null">
        #{notice,jdbcType=VARCHAR},
      </if>
      <if test="profile != null">
        #{profile,jdbcType=VARCHAR},
      </if>
      <if test="labels != null">
        #{labels,jdbcType=VARCHAR},
      </if>
      <if test="historyRank != null">
        #{historyRank,jdbcType=VARCHAR},
      </if>
      <if test="historyTicket != null">
        #{historyTicket,jdbcType=VARCHAR},
      </if>
      <if test="dayTicket != null">
        #{dayTicket,jdbcType=INTEGER},
      </if>
      <if test="weekTicket != null">
        #{weekTicket,jdbcType=INTEGER},
      </if>
      <if test="allTicket != null">
        #{allTicket,jdbcType=INTEGER},
      </if>
      <if test="ticket != null">
        #{ticket,jdbcType=INTEGER},
      </if>
      <if test="money != null">
        #{money,jdbcType=INTEGER},
      </if>
      <if test="payCount != null">
        #{payCount,jdbcType=INTEGER},
      </if>
      <if test="attestationUrl != null">
        #{attestationUrl,jdbcType=VARCHAR},
      </if>
      <if test="likeCount != null">
        #{likeCount,jdbcType=INTEGER},
      </if>
      <if test="forwardCount != null">
        #{forwardCount,jdbcType=INTEGER},
      </if>
      <if test="isSystem != null">
        #{isSystem,jdbcType=BIT},
      </if>
      <if test="cityAddress != null">
        #{cityAddress,jdbcType=VARCHAR},
      </if>
      <if test="dayVoteCount != null">
        #{dayVoteCount,jdbcType=INTEGER},
      </if>
        now(),
      <if test="status != null">
        #{status,jdbcType=TINYINT},
      </if>
      <if test="questionCount != null">
        #{questionCount,jdbcType=INTEGER},
      </if>
      <if test="answerCount != null">
        #{answerCount,jdbcType=INTEGER},
      </if>
      <if test="commentCount != null">
        #{commentCount,jdbcType=INTEGER},
      </if>
      <if test="replyCount != null">
        #{replyCount,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.ayue.sp.db.po.UserExample" resultType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    select count(*) from user
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    update user
    <set>
      <if test="record.id != null">
        id = #{record.id,jdbcType=INTEGER},
      </if>
      <if test="record.openid != null">
        openId = #{record.openid,jdbcType=VARCHAR},
      </if>
      <if test="record.professional != null">
        professional=#{professional,jdbcType=VARCHAR},
      </if>
      <if test="record.proficient != null">
        proficient=#{proficient,jdbcType=VARCHAR},
      </if>
      <if test="record.gender != null">
        gender = #{record.gender,jdbcType=TINYINT},
      </if>
      <if test="record.name != null">
        name = #{record.name,jdbcType=VARCHAR},
      </if>
      <if test="record.avatar != null">
        avatar = #{record.avatar,jdbcType=VARCHAR},
      </if>
      <if test="record.notice != null">
        notice = #{record.notice,jdbcType=VARCHAR},
      </if>
      <if test="record.profile != null">
        profile = #{record.profile,jdbcType=VARCHAR},
      </if>
      <if test="record.labels != null">
        labels = #{record.labels,jdbcType=VARCHAR},
      </if>
      <if test="record.historyRank != null">
        history_rank = #{record.historyRank,jdbcType=VARCHAR},
      </if>
      <if test="record.historyTicket != null">
        history_ticket = #{record.historyTicket,jdbcType=VARCHAR},
      </if>
      <if test="record.dayTicket != null">
        day_ticket = #{record.dayTicket,jdbcType=INTEGER},
      </if>
      <if test="record.weekTicket != null">
        week_ticket = #{record.weekTicket,jdbcType=INTEGER},
      </if>
      <if test="record.allTicket != null">
        all_ticket = #{record.allTicket,jdbcType=INTEGER},
      </if>
      <if test="record.ticket != null">
        ticket = #{record.ticket,jdbcType=INTEGER},
      </if>
      <if test="record.money != null">
        money = #{record.money,jdbcType=INTEGER},
      </if>
      <if test="record.payCount != null">
        pay_count = #{record.payCount,jdbcType=INTEGER},
      </if>
      <if test="record.attestationUrl != null">
        attestation_url = #{record.attestationUrl,jdbcType=VARCHAR},
      </if>
      <if test="record.likeCount != null">
        like_count = #{record.likeCount,jdbcType=INTEGER},
      </if>
      <if test="record.forwardCount != null">
        forward_count = #{record.forwardCount,jdbcType=INTEGER},
      </if>
      <if test="record.isSystem != null">
        is_system = #{record.isSystem,jdbcType=BIT},
      </if>
      <if test="record.cityAddress != null">
        city_address = #{record.cityAddress,jdbcType=VARCHAR},
      </if>
      <if test="record.dayVoteCount != null">
        day_vote_count = #{record.dayVoteCount,jdbcType=INTEGER},
      </if>
      <if test="record.createTime != null">
        create_time = #{record.createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.status != null">
        status = #{record.status,jdbcType=TINYINT},
      </if>
      <if test="record.questionCount != null">
        question_count = #{record.questionCount,jdbcType=INTEGER},
      </if>
      <if test="record.answerCount != null">
        answer_count = #{record.answerCount,jdbcType=INTEGER},
      </if>
      <if test="record.commentCount != null">
        comment_count = #{record.commentCount,jdbcType=INTEGER},
      </if>
      <if test="record.replyCount != null">
        reply_count = #{record.replyCount,jdbcType=INTEGER},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    update user
    set id = #{record.id,jdbcType=INTEGER},
      openId = #{record.openid,jdbcType=VARCHAR},
      professional=#{professional,jdbcType=VARCHAR},
      proficient=#{proficient,jdbcType=VARCHAR},
      gender = #{record.gender,jdbcType=TINYINT},
      name = #{record.name,jdbcType=VARCHAR},
      avatar = #{record.avatar,jdbcType=VARCHAR},
      notice = #{record.notice,jdbcType=VARCHAR},
      profile = #{record.profile,jdbcType=VARCHAR},
      labels = #{record.labels,jdbcType=VARCHAR},
      history_rank = #{record.historyRank,jdbcType=VARCHAR},
      history_ticket = #{record.historyTicket,jdbcType=VARCHAR},
      day_ticket = #{record.dayTicket,jdbcType=INTEGER},
      week_ticket = #{record.weekTicket,jdbcType=INTEGER},
      all_ticket = #{record.allTicket,jdbcType=INTEGER},
      ticket = #{record.ticket,jdbcType=INTEGER},
      money = #{record.money,jdbcType=INTEGER},
      pay_count = #{record.payCount,jdbcType=INTEGER},
      attestation_url = #{record.attestationUrl,jdbcType=VARCHAR},
      like_count = #{record.likeCount,jdbcType=INTEGER},
      forward_count = #{record.forwardCount,jdbcType=INTEGER},
      is_system = #{record.isSystem,jdbcType=BIT},
      city_address = #{record.cityAddress,jdbcType=VARCHAR},
      day_vote_count = #{record.dayVoteCount,jdbcType=INTEGER},
      create_time = #{record.createTime,jdbcType=TIMESTAMP},
      status = #{record.status,jdbcType=TINYINT},
      question_count = #{record.questionCount,jdbcType=INTEGER},
      answer_count = #{record.answerCount,jdbcType=INTEGER},
      comment_count = #{record.commentCount,jdbcType=INTEGER},
      reply_count = #{record.replyCount,jdbcType=INTEGER}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.ayue.sp.db.po.User">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    update user
    <set>
      <if test="openid != null">
        openId = #{openid,jdbcType=VARCHAR},
      </if>
      <if test="professional != null">
        professional=#{professional,jdbcType=VARCHAR},
      </if>
      <if test="level != null">
        level=#{level,jdbcType=INTEGER},
      </if>
      <if test="proficient != null">
        proficient=#{proficient,jdbcType=VARCHAR},
      </if>
      <if test="gender != null">
        gender = #{gender,jdbcType=TINYINT},
      </if>
      <if test="name != null">
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="avatar != null">
        avatar = #{avatar,jdbcType=VARCHAR},
      </if>
      <if test="notice != null">
        notice = #{notice,jdbcType=VARCHAR},
      </if>
      <if test="profile != null">
        profile = #{profile,jdbcType=VARCHAR},
      </if>
      <if test="labels != null">
        labels = #{labels,jdbcType=VARCHAR},
      </if>
      <if test="historyRank != null">
        history_rank = #{historyRank,jdbcType=VARCHAR},
      </if>
      <if test="historyTicket != null">
        history_ticket = #{historyTicket,jdbcType=VARCHAR},
      </if>
      <if test="dayTicket != null">
        day_ticket = #{dayTicket,jdbcType=INTEGER},
      </if>
      <if test="weekTicket != null">
        week_ticket = #{weekTicket,jdbcType=INTEGER},
      </if>
      <if test="allTicket != null">
        all_ticket = #{allTicket,jdbcType=INTEGER},
      </if>
      <if test="ticket != null">
        ticket = #{ticket,jdbcType=INTEGER},
      </if>
      <if test="obtainTicket != null">
        obtain_ticket = #{obtainTicket,jdbcType=INTEGER},
      </if>
      <if test="obtainTicketAll != null">
        obtain_ticket_all = #{obtainTicketAll,jdbcType=INTEGER},
      </if>
      <if test="money != null">
        money = #{money,jdbcType=INTEGER},
      </if>
      <if test="payCount != null">
        pay_count = #{payCount,jdbcType=INTEGER},
      </if>
      <if test="attestationUrl != null">
        attestation_url = #{attestationUrl,jdbcType=VARCHAR},
      </if>
      <if test="likeCount != null">
        like_count = #{likeCount,jdbcType=INTEGER},
      </if>
      <if test="forwardCount != null">
        forward_count = #{forwardCount,jdbcType=INTEGER},
      </if>
      <if test="isSystem != null">
        is_system = #{isSystem,jdbcType=BIT},
      </if>
      <if test="cityAddress != null">
        city_address = #{cityAddress,jdbcType=VARCHAR},
      </if>
      <if test="dayVoteCount != null">
        day_vote_count = #{dayVoteCount,jdbcType=INTEGER},
      </if>
      <if test="createTime != null">
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="status != null">
        status = #{status,jdbcType=TINYINT},
      </if>
      <if test="questionCount != null">
        question_count = #{questionCount,jdbcType=INTEGER},
      </if>
      <if test="answerCount != null">
        answer_count = #{answerCount,jdbcType=INTEGER},
      </if>
      <if test="commentCount != null">
        comment_count = #{commentCount,jdbcType=INTEGER},
      </if>
      <if test="replyCount != null">
        reply_count = #{replyCount,jdbcType=INTEGER},
      </if>
      <if test="city != null">
        city = #{city,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ayue.sp.db.po.User">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 07 14:57:35 CST 2020.
    -->
    update user
    set openId = #{openid,jdbcType=VARCHAR},
      gender = #{gender,jdbcType=TINYINT},
      professional=#{professional,jdbcType=VARCHAR},
      proficient=#{proficient,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      avatar = #{avatar,jdbcType=VARCHAR},
      notice = #{notice,jdbcType=VARCHAR},
      profile = #{profile,jdbcType=VARCHAR},
      labels = #{labels,jdbcType=VARCHAR},
      history_rank = #{historyRank,jdbcType=VARCHAR},
      history_ticket = #{historyTicket,jdbcType=VARCHAR},
      day_ticket = #{dayTicket,jdbcType=INTEGER},
      week_ticket = #{weekTicket,jdbcType=INTEGER},
      all_ticket = #{allTicket,jdbcType=INTEGER},
      ticket = #{ticket,jdbcType=INTEGER},
      obtain_ticket = #{obtainTicket,jdbcType=INTEGER},
      obtain_ticket_all = #{obtainTicketAll,jdbcType=INTEGER},
      money = #{money,jdbcType=INTEGER},
      pay_count = #{payCount,jdbcType=INTEGER},
      attestation_url = #{attestationUrl,jdbcType=VARCHAR},
      like_count = #{likeCount,jdbcType=INTEGER},
      forward_count = #{forwardCount,jdbcType=INTEGER},
      is_system = #{isSystem,jdbcType=BIT},
      city_address = #{cityAddress,jdbcType=VARCHAR},
      day_vote_count = #{dayVoteCount,jdbcType=INTEGER},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      status = #{status,jdbcType=TINYINT},
      question_count = #{questionCount,jdbcType=INTEGER},
      answer_count = #{answerCount,jdbcType=INTEGER},
      comment_count = #{commentCount,jdbcType=INTEGER},
      reply_count = #{replyCount,jdbcType=INTEGER},
      city = #{city,jdbcType=VARCHAR},
      identity = #{identity,jdbcType=INTEGER},
      unit = #{unit,jdbcType=VARCHAR},
      energy_bean=#{energyBean,jdbcType=INTEGER},
      teacher=#{teacher,jdbcType=INTEGER}
    where id = #{id,jdbcType=INTEGER}
  </update>
  
  <update id="resetDayTicket">
   update `user` set day_ticket = 0, day_vote_count = 0, rank_energy_bean = 0
  </update>
  
  <update id="resetWeekTicket">
   update `user` set week_ticket = 0
  </update>
  
   <select id="getMaxUserId" resultType="java.lang.Integer">
    select MAX( id) from `user`
  </select>
  
  <update id="batchUpdateHistory" parameterType="java.util.List">
    <foreach collection="list" index="index" item="item" separator=";">
   update `user` set 
      history_rank = #{item.historyRank,jdbcType=INTEGER},
      history_ticket = #{item.historyTicket,jdbcType=VARCHAR}
    where id = #{item.id,jdbcType=BIGINT}
    </foreach>
  </update>
    <update id="updateRank" parameterType="java.util.List">
    <foreach collection="list" index="index" item="item" separator=";">
   update `user` set
      rank_energy_bean = #{item.rankEnergyBean,jdbcType=INTEGER}
    where id = #{item.id,jdbcType=BIGINT}
    </foreach>
  </update>
  
   <update id="addForwardCount" parameterType="java.lang.Integer">
    update `user` set forward_count = forward_count+1 where id = #{id,jdbcType=INTEGER}
  </update>
  <select id="getUserName" resultMap="BaseResultMap">
     select id,name from user where id in
     <foreach collection="list" index="index" item="item" separator="," open="(" close=")">
        #{item}
     </foreach>
  </select>
  <select id="getUserLogin" resultMap="BaseResultMap" parameterType="java.lang.String">
    select <include refid="Base_Column_List" /> from user
    where name= #{name,jdbcType=VARCHAR} and password= #{password,jdbcType=VARCHAR}
  </select>
  <select id="getUserLables" resultType="int" parameterType="java.lang.String">
    select id from user
    where labels =#{labels,jdbcType=VARCHAR}
  </select>
  <select id="getUserLablesByLables" resultType="int" parameterType="java.lang.String">
    select id from user
    where labels like '%${labels,jdbcType=VARCHAR}%'
  </select>
  <update id="updateUserTicket" parameterType="java.lang.Integer">
    update `user` set ticket = ticket-#{ticket,jdbcType=INTEGER} where id = #{userId,jdbcType=INTEGER}
  </update>
</mapper>